<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Delicious Bites - E-Commerce</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #f7f1e8;
      color: #333;
    }
    .navbar {
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .hero {
      background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)),
        url('https://source.unsplash.com/1600x900/?food') no-repeat center;
      background-size: cover;
      color: white;
      padding: 120px 0;
      text-align: center;
    }
    .hero h1 {
      font-size: 3.5rem;
      font-weight: 700;
    }
    .hero p {
      font-size: 1.2rem;
    }
    .btn-custom {
      background: #ffda86;
      border: none;
      color: #333;
      padding: 12px 30px;
      border-radius: 50px;
      font-weight: 600;
      transition: background-color 0.3s ease;
    }
    .btn-custom:hover {
      background: #e6c26d;
      color: #222;
    }
    .product-card {
      border: 1px solid #ddd;
      border-radius: 15px;
      overflow: hidden;
      transition: transform 0.3s;
      background: #fff;
    }
    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.12);
    }
    .product-card h5, .product-card p, .product-card h6 {
      margin-bottom: 0.3rem;
    }
    #cartSection {
      display: none;
      background: #fff9e6;
      border-top: 3px solid #ffb400;
      margin-top: 20px;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    #testimonialCarousel .testimonial {
      background: #fff;
      border-radius: 15px;
      padding: 25px 30px;
      margin: 20px auto;
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
      max-width: 600px;
      font-style: italic;
      color: #555;
      text-align: center;
      transition: background-color 0.4s ease;
    }
    #testimonialCarousel .testimonial h6 {
      margin-top: 15px;
      font-weight: 600;
      color: #333;
      font-style: normal;
    }
    #testimonialCarousel .carousel-item.active .testimonial,
    #testimonialCarousel .carousel-item:hover .testimonial {
      background-color: #fffbeb;
      color: #422800;
      box-shadow: 0 8px 25px rgba(255,180,0,0.3);
    }
    .carousel-control-prev-icon,
    .carousel-control-next-icon {
      filter: invert(42%) sepia(82%) saturate(6493%) hue-rotate(35deg) brightness(103%) contrast(101%);
    }
    #starRating span {
      font-size: 2.5rem;
      cursor: pointer;
      color: #d3d3d3;
      margin-right: 8px;
      transition: color 0.3s ease;
      user-select: none;
    }
    #starRating span.highlighted,
    #starRating span.selected {
      color: #ffb400;
    }
    #starRating span:hover,
    #starRating span:hover ~ span {
      color: #ffdb70;
    }
    #reviewsList .testimonial {
      background: #fff;
      border-radius: 15px;
      padding: 20px;
      margin-top: 15px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.08);
      max-width: 700px;
    }
    #reviewsList .testimonial p:first-child {
      font-size: 1.5rem;
      color: #ffb400;
      margin-bottom: 10px;
    }
    #reviewsList .testimonial h6 {
      font-weight: 700;
      font-size: 1rem;
      color: #444;
    }
    .footer {
      background: #b80818;
      color: #fff;
      padding: 40px 0;
      margin-top: 40px;
    }
    .social-icons a {
      color: #fff;
      margin: 0 10px;
      font-size: 1.5rem;
      transition: color 0.3s;
    }
    .social-icons a:hover {
      color: #ffd700;
    }
    #cartCountBadge, #ordersCountBadge {
      pointer-events: none;
      z-index: 2;
      margin-top: 2px;
    }
  </style>
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
      <a class="navbar-brand" href="#">Delicious Bites</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav align-items-center">
          <li class="nav-item"><a class="nav-link" href="#home">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="#menu">Menu</a></li>
          <li class="nav-item"><a class="nav-link" href="#testimonials">Testimonials</a></li>
          <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
          <li class="nav-item dropdown ms-3">
            <a class="nav-link position-relative" href="#" id="navbarCart" role="button" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">
              <i class="fas fa-shopping-cart fa-lg"></i>
              <span id="cartCountBadge" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-warning text-dark" style="font-size: 0.8rem;">0</span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end p-3" aria-labelledby="navbarCart" style="min-width: 260px;">
              <li><strong>Cart Items</strong>
                <ul id="cartDropdownList" class="list-group list-group-flush mb-2"></ul></li>
              <li>
                <div class="d-flex justify-content-between">
                  <span>Total:</span>
                  <span id="cartDropdownTotal">$0.00</span>
                </div>
              </li>
              <li class="mt-2">
                <button class="btn btn-custom w-100" onclick="scrollToCart()">View Cart</button>
              </li>
            </ul>
          </li>
          <li class="nav-item dropdown ms-3">
            <a class="nav-link position-relative" href="#" id="recentOrdersToggle" role="button" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">
              <i class="fas fa-clock fa-lg"></i>
              <span id="ordersCountBadge" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-info text-dark" style="font-size: 0.8rem;">0</span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end p-3" aria-labelledby="recentOrdersToggle" style="min-width: 260px;">
              <li><strong>Recent Orders</strong>
                <ul id="recentOrdersList" class="list-group list-group-flush mb-2"></ul></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <section class="hero" id="home">
    <div class="container">
      <h1>Delicious Food Delivered Fast</h1>
      <p>Order your favorite meals online and enjoy them at home.</p>
      <button class="btn btn-custom mt-3" onclick="scrollToMenu()">Explore Menu</button>
    </div>
  </section>

  <section class="py-5" id="menu">
    <div class="container">
      <h2 class="text-center mb-5">Our Popular Dishes</h2>
      <div class="row g-4 justify-content-center">
        <div class="col-md-4">
          <div class="product-card p-3">
            <img src="https://source.unsplash.com/400x250/?pizza" class="img-fluid" alt="Pizza" />
            <div class="mt-3">
              <h5 class="product-name">Premium Pizza</h5>
              <p>Delicious cheese and pepperoni pizza.</p>
              <h6 class="product-price">12.99</h6>
              <button class="btn btn-custom btn-sm add-cart">Add to Cart</button>
              <button class="btn btn-warning btn-sm ms-2 buy-now">Buy Now</button>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="product-card p-3">
            <img src="https://source.unsplash.com/400x250/?burger" class="img-fluid" alt="Burger" />
            <div class="mt-3">
              <h5 class="product-name">Classic Burger</h5>
              <p>Beef patty with fresh veggies.</p>
              <h6 class="product-price">9.99</h6>
              <button class="btn btn-custom btn-sm add-cart">Add to Cart</button>
              <button class="btn btn-warning btn-sm ms-2 buy-now">Buy Now</button>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="product-card p-3">
            <img src="https://source.unsplash.com/400x250/?pasta" class="img-fluid" alt="Pasta" />
            <div class="mt-3">
              <h5 class="product-name">Creamy Pasta</h5>
              <p>Alfredo pasta with garlic bread.</p>
              <h6 class="product-price">11.99</h6>
              <button class="btn btn-custom btn-sm add-cart">Add to Cart</button>
              <button class="btn btn-warning btn-sm ms-2 buy-now">Buy Now</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="py-4 bg-light" id="cartSection">
    <div class="container">
      <h3>Your Cart</h3>
      <ul id="cartItems" class="list-group mb-3"></ul>
      <h5>Total: $<span id="cartTotal">0.00</span></h5>
      <button id="checkoutBtn" class="btn btn-custom" onclick="checkout()">Checkout</button>
    </div>
  </section>

  <section class="py-4 bg-white" id="orderHistory" style="display:none; max-width: 800px; margin: 0 auto; border-radius: 15px; padding: 20px; margin-top: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
    <h3>Order History</h3>
    <ul id="orderHistoryList" class="list-group"></ul>
  </section>

  <section class="py-5 bg-light" id="testimonials">
    <div class="container">
      <h2 class="text-center mb-4">What Our Customers Say</h2>
      <div id="testimonialCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000" tabindex="0">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <div class="testimonial">
              <p>"The food is amazing and delivery is super fast. Highly recommend!"</p>
              <h6>— Priya S.</h6>
            </div>
          </div>
          <div class="carousel-item">
            <div class="testimonial">
              <p>"Best pizza in town! Will order again."</p>
              <h6>— Arjun K.</h6>
            </div>
          </div>
          <div class="carousel-item">
            <div class="testimonial">
              <p>"Excellent customer service and tasty meals."</p>
              <h6>— Meena R.</h6>
            </div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="prev" aria-label="Previous testimonial">
          <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="next" aria-label="Next testimonial">
          <span class="carousel-control-next-icon"></span>
        </button>
      </div>

      <div class="mt-5">
        <h4 class="mb-3 text-center">Leave a Review</h4>
        <form id="reviewForm" class="mx-auto" style="max-width: 600px;">
          <div class="mb-3">
            <label for="reviewName" class="form-label">Name</label>
            <input type="text" id="reviewName" class="form-control" required />
          </div>
          <div class="mb-3">
            <label class="form-label">Rating</label>
            <div id="starRating" class="d-flex justify-content-center" style="font-size: 2.5rem; cursor: pointer;">
              <span data-value="1">☆</span>
              <span data-value="2">☆</span>
              <span data-value="3">☆</span>
              <span data-value="4">☆</span>
              <span data-value="5">☆</span>
            </div>
          </div>
          <div class="mb-3">
            <label for="reviewText" class="form-label">Review</label>
            <textarea id="reviewText" class="form-control" rows="3" required></textarea>
          </div>
          <button type="submit" class="btn btn-custom w-100">Submit Review</button>
        </form>
        <div id="reviewsList" class="mt-4"></div>
      </div>
    </div>
  </section>

  <section class="py-5" id="contact">
    <div class="container">
      <h2 class="text-center mb-4">Contact Us</h2>
      <div class="row justify-content-center">
        <div class="col-md-6">
          <form id="contactForm">
            <div class="mb-3">
              <label for="name" class="form-label">Name</label>
              <input type="text" class="form-control" id="name" required />
            </div>
            <div class="mb-3">
              <label for="email" class="form-label">Email</label>
              <input type="email" class="form-control" id="email" required />
            </div>
            <div class="mb-3">
              <label for="message" class="form-label">Message</label>
              <textarea class="form-control" id="message" rows="4" required></textarea>
            </div>
            <button type="submit" class="btn btn-custom w-100">Send Message</button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer text-center">
    <div class="container">
      <p>&copy; 2025 Delicious Bites. All rights reserved.</p>
      <div class="social-icons mt-3">
        <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
      </div>
    </div>
  </footer>

  <div class="modal fade" id="transactionModal" tabindex="-1" aria-labelledby="transactionModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content border-0 rounded-4 shadow">
        <div class="modal-header">
          <h5 class="modal-title" id="transactionModalLabel">Complete Your Purchase</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p><strong>Product:</strong> <span id="modalProductName"></span></p>
          <p><strong>Price:</strong> $<span id="modalProductPrice"></span></p>
          <p><strong>Delivery Charge:</strong> $<span id="modalDeliveryCharge">5.00</span></p>
          <hr />
          <p><strong>Total Amount:</strong> $<span id="modalTotalAmount"></span></p>

          <form id="paymentForm">
            <p><strong>Select Payment Method:</strong></p>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="paymentMethod" id="cod" value="Cash on Delivery" checked />
              <label class="form-check-label" for="cod">Cash on Delivery</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="paymentMethod" id="gpay" value="GPay" />
              <label class="form-check-label" for="gpay">GPay</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="paymentMethod" id="paytm" value="Paytm" />
              <label class="form-check-label" for="paytm">Paytm</label>
            </div>
            <button type="submit" class="btn btn-custom mt-3 w-100">Pay Now</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function scrollToMenu() {
      document.getElementById('menu').scrollIntoView({ behavior: 'smooth' });
    }
    function scrollToCart() {
      const section = document.getElementById('cartSection');
      if(section && section.style.display !== 'none'){
        section.scrollIntoView({ behavior: 'smooth' });
      } else {
        alert("Cart is empty!");
      }
    }
    document.getElementById('contactForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const message = document.getElementById('message').value.trim();
      if (!name || !email || !message) {
        alert('Please fill all fields.');
        return;
      }
      alert('Thank you! Your message has been sent.');
      this.reset();
    });

    const stars = document.querySelectorAll('#starRating span');
    let selectedRating = 0;
    stars.forEach(star => {
      star.addEventListener('mouseover', () => highlightStars(star.dataset.value, true));
      star.addEventListener('mouseout', () => highlightStars(selectedRating));
      star.addEventListener('click', () => {
        selectedRating = star.dataset.value;
        highlightStars(selectedRating);
      });
    });
    function highlightStars(rating, hover = false) {
      stars.forEach(star => {
        if (hover) {
          star.classList.toggle('highlighted', star.dataset.value <= rating);
        } else {
          star.classList.toggle('selected', star.dataset.value <= rating);
          star.classList.remove('highlighted');
        }
      });
    }
    document.getElementById('reviewForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const name = document.getElementById('reviewName').value.trim();
      const review = document.getElementById('reviewText').value.trim();

      if (!name || !review || selectedRating == 0) {
        alert('Please leave a star rating, review and your name.');
        return;
      }

      const reviewHTML = `
        <div class="testimonial">
          <p>${'★'.repeat(selectedRating)}${'☆'.repeat(5 - selectedRating)}</p>
          <p>${review}</p>
          <h6>— ${name}</h6>
        </div>`;
      document.getElementById('reviewsList').insertAdjacentHTML('beforeend', reviewHTML);

      this.reset();
      selectedRating = 0;
      highlightStars(0);
      alert('Thank you for your review!');
    });

    const cart = [];
    const cartSection = document.getElementById('cartSection');
    const cartItems = document.getElementById('cartItems');
    const cartTotal = document.getElementById('cartTotal');
    const orders = [];

    function updateCartUI() {
      cartItems.innerHTML = '';
      let total = 0;
      cart.forEach(item => {
        total += item.price;
        const li = document.createElement('li');
        li.className = 'list-group-item d-flex justify-content-between align-items-center';
        li.textContent = `${item.name} - $${item.price.toFixed(2)}`;
        cartItems.appendChild(li);
      });
      cartTotal.textContent = total.toFixed(2);
      cartSection.style.display = cart.length ? 'block' : 'none';

      document.getElementById('cartCountBadge').textContent = cart.length;

      const dropdownList = document.getElementById('cartDropdownList');
      dropdownList.innerHTML = '';
      cart.forEach(item => {
        const li = document.createElement('li');
        li.className = 'list-group-item py-1 px-0 d-flex justify-content-between align-items-center';
        li.style.fontSize = '1rem';
        li.innerHTML = `<span>${item.name}</span> <span>$${item.price.toFixed(2)}</span>`;
        dropdownList.appendChild(li);
      });
      document.getElementById('cartDropdownTotal').textContent = `$${total.toFixed(2)}`;
    }

    document.querySelectorAll('.add-cart').forEach(button => {
      button.addEventListener('click', (e) => {
        const card = e.target.closest('.product-card');
        const name = card.querySelector('.product-name').textContent;
        const price = parseFloat(card.querySelector('.product-price').textContent);
        cart.push({ name, price });
        updateCartUI();
        alert(`${name} added to cart.`);
      });
    });

    const transactionModal = new bootstrap.Modal(document.getElementById('transactionModal'));
    let currentProduct = null;

    document.querySelectorAll('.buy-now').forEach(button => {
      button.addEventListener('click', (e) => {
        const card = e.target.closest('.product-card');
        const name = card.querySelector('.product-name').textContent;
        const price = parseFloat(card.querySelector('.product-price').textContent);

        currentProduct = { name, price };

        document.getElementById('modalProductName').textContent = name;
        document.getElementById('modalProductPrice').textContent = price.toFixed(2);
        document.getElementById('modalDeliveryCharge').textContent = (5.00).toFixed(2);
        document.getElementById('modalTotalAmount').textContent = (price + 5.00).toFixed(2);

        transactionModal.show();
      });
    });

    function updateOrdersUI() {
      const ordersList = document.getElementById('orderHistoryList');
      const recentOrdersList = document.getElementById('recentOrdersList');
      const ordersCountBadge = document.getElementById('ordersCountBadge');

      ordersList.innerHTML = '';
      recentOrdersList.innerHTML = '';

      if (orders.length === 0) {
        document.getElementById('orderHistory').style.display = 'none';
        ordersCountBadge.textContent = '0';
        return;
      }

      document.getElementById('orderHistory').style.display = 'block';
      ordersCountBadge.textContent = orders.length;

      orders.slice().reverse().forEach((order, index) => {
        const li = document.createElement('li');
        li.className = 'list-group-item';
        li.innerHTML = `
          <strong>${order.product}</strong> - $${order.total} <br />
          Payment: ${order.paymentMethod} <br />
          <small>Order #${orders.length - index}</small>
        `;
        ordersList.appendChild(li);
      });

      orders.slice(-5).reverse().forEach(order => {
        const li = document.createElement('li');
        li.className = 'list-group-item py-1 px-0 d-flex justify-content-between align-items-center';
        li.style.fontSize = '0.9rem';
        li.innerHTML = `
          <span>${order.product}</span>
          <span>$${order.total}</span>
        `;
        recentOrdersList.appendChild(li);
      });
    }

    document.getElementById('paymentForm').addEventListener('submit', function(e) {
      e.preventDefault();
      if (!currentProduct) {
        alert("No product selected.");
        return;
      }
      const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
      const total = (currentProduct.price + 5.00).toFixed(2);

      // Simulate real payment process
      alert(`Processing your payment of $${total} via ${paymentMethod}...`);

      setTimeout(() => {
        orders.push({
          product: currentProduct.name,
          total: total,
          paymentMethod: paymentMethod
        });

        updateOrdersUI();
        transactionModal.hide();
        alert(`Payment successful!\n\nProduct: ${currentProduct.name}\nTotal: $${total}\nPayment Method: ${paymentMethod}`);
        currentProduct = null;
        document.getElementById('paymentForm').reset();
      }, 2000); // simulate payment delay
    });

    function checkout() {
      if (cart.length === 0) {
        alert('Your cart is empty.');
        return;
      }
      let summary = 'Order Summary:\n\n';
      cart.forEach(item => {
        summary += `${item.name}: $${item.price.toFixed(2)}\n`;
      });
      const total = cart.reduce((sum, item) => sum + item.price, 0);
      summary += `\nTotal: $${total.toFixed(2)}\n\nThank you for shopping with us!`;
      alert(summary);
      cart.length = 0;
      updateCartUI();
    }
  </script>
</body>
</html>
